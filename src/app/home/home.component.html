<div class="container">
  <mat-card class="card">
    <mat-card-header>
      <mat-card-title>Controls</mat-card-title>
      <mat-card-subtitle>Tweak the following values to change the appearance of the graph.</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="form">
        <div class="controls">
          <div class="force alpha" (click)="updateAll()">
            <p><label> alpha : </label> Simulation activity</p>
            <mat-progress-bar color="primary" [value]="alpha"></mat-progress-bar>
          </div>

          <div class="force" formGroupName="center">
            <p><label> center : </label> Shifts the view, so the graph is centered at this location.</p>
            <label>
              x :
              <output>{{ this.form.get('center.x')?.getRawValue() }}</output>
              <mat-slider min="0" max="1" step="0.01">
                <input matSliderThumb formControlName="x">
              </mat-slider>
            </label>
            <label>
              y :
              <output>{{ this.form.get('center.y')?.getRawValue() }}</output>
              <mat-slider min="0" max="1" step="0.01">
                <input matSliderThumb formControlName="y">
              </mat-slider>
            </label>
          </div>

          <div class="force" formGroupName="charge">
            <p><label><input type="checkbox" checked formControlName="enabled"> charge : </label> Attracts (+) or repels
              (-) nodes to/from each other.</p>
            <label title="Negative strength repels nodes. Positive strength attracts nodes.">
              strength :
              <output>{{ this.form.get('charge.strength')?.getRawValue() }}</output>
              <mat-slider min="-200" max="50" step="0.1">
                <input matSliderThumb formControlName="strength">
              </mat-slider>
            </label>
            <label title="Minimum distance where force is applied">
              distanceMin :
              <output>{{ this.form.get('charge.distanceMin')?.getRawValue() }}</output>
              <mat-slider min="0" max="50" step="0.1">
                <input matSliderThumb formControlName="distanceMin">
              </mat-slider>
            </label>
            <label title="Maximum distance where force is applied">
              distanceMax :
              <output>{{ this.form.get('charge.distanceMax')?.getRawValue() }}</output>
              <mat-slider min="0" max="2000" step="0.1">
                <input matSliderThumb formControlName="distanceMax">
              </mat-slider>
            </label>
          </div>

          <div class="force" formGroupName="collide">
            <p><label><input type="checkbox" checked formControlName="enabled"> collide : </label> Prevents nodes from
              overlapping</p>
            <label>
              strength :
              <output>{{ this.form.get('collide.strength')?.getRawValue() }}</output>
              <mat-slider min="0" max="2" step="0.1">
                <input matSliderThumb formControlName="strength">
              </mat-slider>
            </label>
            <label title="Size of nodes">
              radius :
              <output>{{ this.form.get('collide.radius')?.getRawValue() }}</output>
              <mat-slider min="0" max="100" step="1">
                <input matSliderThumb formControlName="radius">
              </mat-slider>
            </label>
            <label
              title="Higher values increase rigidity of the nodes (WARNING: high values are computationally expensive)">
              iterations :
              <output>{{ this.form.get('collide.iterations')?.getRawValue() }}</output>
              <mat-slider min="1" max="10" step="1">
                <input matSliderThumb formControlName="iterations">
              </mat-slider>
            </label>
          </div>

          <div class="force" formGroupName="forceX">
            <p><label><input type="checkbox" formControlName="enabled"> forceX : </label> Acts like gravity. Pulls all
              points towards an X location.</p>
            <label>
              strength :
              <output>{{ this.form.get('forceX.strength')?.getRawValue() }}</output>
              <mat-slider min="0" max="1" step="0.01">
                <input matSliderThumb formControlName="strength">
              </mat-slider>
            </label>
            <label
              title="The X location that the force will push the nodes to (NOTE: This demo multiplies by the svg width)">
              x :
              <output>{{ this.form.get('forceX.x')?.getRawValue() }}</output>
              <mat-slider min="0" max="1" step="0.01">
                <input matSliderThumb formControlName="x">
              </mat-slider>
            </label>
          </div>

          <div class="force" formGroupName="forceY">
            <p><label><input type="checkbox" formControlName="enabled"> forceY : </label> Acts like gravity. Pulls all
              points towards a Y location.</p>
            <label>
              strength :
              <output>{{ this.form.get('forceY.strength')?.getRawValue() }}</output>
              <mat-slider min="0" max="1" step="0.01">
                <input matSliderThumb formControlName="strength">
              </mat-slider>
            </label>
            <label
              title="The Y location that the force will push the nodes to (NOTE: This demo multiplies by the svg height)">
              y :
              <output>{{ this.form.get('forceY.y')?.getRawValue() }}</output>
              <mat-slider min="0" max="1" step="0.01">
                <input matSliderThumb formControlName="y">
              </mat-slider>
            </label>
          </div>

          <div class="force" formGroupName="link">
            <p><label><input type="checkbox" checked formControlName="enabled"> link : </label> Sets link length</p>
            <label title="The force will push/pull nodes to make links this long">
              distance :
              <output>{{ this.form.get('link.distance')?.getRawValue() }}</output>
              <mat-slider min="0" max="100" step="1">
                <input matSliderThumb formControlName="distance">
              </mat-slider>
            </label>
            <label
              title="Higher values increase rigidity of the links (WARNING: high values are computationally expensive)">
              iterations :
              <output>{{ this.form.get('link.iterations')?.getRawValue() }}</output>
              <mat-slider min="1" max="10" step="1">
                <input matSliderThumb formControlName="iterations">
              </mat-slider>
            </label>
          </div>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
  <mat-card class="card">
    <mat-card-header>
      <mat-card-title>Chart</mat-card-title>
      <mat-card-subtitle>This is the dependency graph based on the control settings.</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <svg></svg>
    </mat-card-content>
  </mat-card>
</div>
